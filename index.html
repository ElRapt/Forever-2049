<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forever 2049 - Coding Challenge</title>
    <!-- STYLESHEETS -->
    <link rel="stylesheet" href="cyberpunk.css" /> 
    <!-- DOC: https://www.cssscript.com/demo/cyberpunk-2077/ -->
    <link rel="stylesheet" href="cyberpunk2.css" /> 
    <!-- DOC: https://github.com/gwannon/Cyberpunk-2077-theme-css -->
    <link rel="stylesheet" href="style.css">
    <!-- FONT -->
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inconsolata&display=swap" rel="stylesheet">

<body>

  <div class="loader-container">
    <img src="./public/forever2049logo.png" alt="logo" class="loader-logo cyber-glitch-0 cyber-glitch-1">
    
    <div class="container_loader">
      <div id='loader'>
        <div id='title' class='flex'>
          <p class='loading-text'>LOADING</p>
          <div class='therefore'>âˆ´</div>
          <p class="loading-number">%</p>
        </div>
        <div id='loading-bar-border'>
          <div class='loading-bar'>
          </div>
        </div>
        <div id='warning'>
          <p>
            <div class='exclamation'>!</div>
            &nbsp; CAUTION, Do not turn off.
          </p>
        <div id='line-cascates'></div>
        </div>
      </div>
    </div>
  </div>

    <div class="container">
        <div class="problem-section">
            <div class="problem_title cyber-razor-bottom cyber-razor-top bg-purple  ">
              <h1 class="cyber-h">Problem #8765. Cyberlink Breach</h1>
              <p>In the neon-drenched alleys of Neo-Paris, a rogue AI has corrupted the Cyberlink network. Your task is to restore the data flow by solving the network's algorithmic puzzles.</p>
            </div>

            <div class="problem_details">
              <h3 class="cyber-h cyber-glitch-4">Challenge: Data Stream Alignment</h2>
                
                <p>The data stream is represented as a sequence of integers, but the flow is disrupted. Find the sequence's missing number that will re-establish the connection.</p>
                <p><strong>Input:</strong> A shuffled array containing numbers 1 through n, missing one number.</p>
                <p><strong>Output:</strong> The missing number.</p>

              <div class="cyber-tile-small bg-green">
                <p><strong>Example:</strong></p>
                <p>Input: [5, 3, 1, 4]</p>
                <p>Output: 2</p>
              </div>
              <p>Write a function that takes in the array and returns the missing number.</p>
            </div>
        </div>

        <div class="editor-section ">
          <div class="editor-upper">
            <div class="cyberpunk lang-select">
              <select id="language-select">
                  <option value="java">Java</option>
                  <option value="javascript">Javascript</option>
                  <option value="go">Go</option>
              </select>
            </div>
            <div id="timer" class="cyber-tile-small cyber-glitch-2 bg-red">
              <p class="glitch-3">01:00:00</p>
            </div>
          </div>
            <textarea id="code-editor" class="box">
              public class Solution { 
                // you need to treat n as an unsigned value 
                public int hammingWeight(int n) { 
                } 
                } 

            </textarea>

        <a href="/loot.html">
          <button id="submit-btn" class="cybr-btn">
            SUBMIT<span aria-hidden>_</span>
            <span aria-hidden class="cybr-btn__glitch">SUBMIT ðŸ’€</span>
          </button>
        </a>

        </div>
    </div>

    <script src="main.js"></script>
    <script>
      // Set a timeout to keep the fake loader for a specific amount of time
      setTimeout(function() {
        const loader = document.querySelector('.loader-container');
        loader.style.transition = 'opacity 1s ease';
        loader.style.opacity = '0';

        setTimeout(function() {
          loader.style.display = 'none';
        }, 1000); // This matches the duration of the fade-out transition
      }, 4000); // Display the fake loading screen for 4 seconds, adjust as needed
      
      setTimeout(function() {
      const loader = document.querySelector('.spinny-loader');
      loader.style.transition = 'opacity 1s ease';
      loader.style.opacity = '0';
      
      setTimeout(function() {
        loader.style.display = 'none';
      }, 1000);
    }, 4000); // Duration before the fake loader disappears

    function simulateLoading() {
      const loadingNumber = document.querySelector('.loading-number');
      let progress = 0; 

      // Update progress every 30ms
      const interval = setInterval(() => {
        progress++; // Increment progress
        loadingNumber.style.setProperty('--num', progress); 
        loadingNumber.textContent = `${progress}%`; 

        if (progress >= 100) clearInterval(interval); 
      }, 30); 
    }

    document.addEventListener('DOMContentLoaded', simulateLoading);

    document.addEventListener('DOMContentLoaded', function() {
    const languageSelect = document.getElementById('language-select');
    const codeEditor = document.getElementById('code-editor');

    const defaultCode = {
      'java': 'public class Solution { \n // you need to treat n as an unsigned value \n public int hammingWeight(int n) { \n } \n } ',
        'javascript': '/** \n * @param {number} n - a positive integer \n * @return {number} \n */ \n var hammingWeight = function(n) { \n };',
        'go': 'func dataStream(corridor string) int { \n \n }'
    };

    languageSelect.addEventListener('change', function() {
        codeEditor.value = defaultCode[this.value];
    });
});

// Set the date we're counting down to
var countDownDate = new Date();
countDownDate.setHours(countDownDate.getHours() + 1); // 1 hour from now

// Update the count down every 1 second
var x = setInterval(function() {

  // Get today's date and time
  var now = new Date().getTime();

  // Find the distance between now and the count down date
  var distance = countDownDate - now;

  // Time calculations for hours, minutes and seconds
  var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
  var seconds = Math.floor((distance % (1000 * 60)) / 1000);

  // Output the result in an element with id="timer"
  document.getElementById("timer").innerHTML = 
    (hours < 10 ? "0" : "") + hours + ":" +
    (minutes < 10 ? "0" : "") + minutes + ":" +
    (seconds < 10 ? "0" : "") + seconds;

  // If the count down is over, write some text
  if (distance < 0) {
    clearInterval(x);
    document.getElementById("timer").innerHTML = "EXPIRED";
  }
}, 1000);

    </script>
</body>
</html>
